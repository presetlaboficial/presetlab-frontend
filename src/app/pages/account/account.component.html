<section class="account-page">
  <div class="account-card">
    <h1>Minha Conta</h1>

    <p class="email">
      {{ (auth.user$ | async)?.email }}
    </p>

    <h2>Meus pedidos</h2>

    <ng-container *ngIf="orders$ | async as orders">
      <div *ngIf="orders.length === 0" class="empty">
        <p>Você ainda não fez nenhum pedido.</p>
      </div>

      <div class="orders">
        <div class="order" *ngFor="let order of orders">
          <div>
            <strong>Pedido</strong>
            #{{ order.id.slice(0, 8) }}
          </div>

          <div>
            {{ order.items.length }} itens
          </div>

          <div>
            R$ {{ order.total | number: '1.2-2' }}
          </div>

          <small>
            {{ order.createdAt | date: 'dd/MM/yyyy HH:mm' }}
          </small>
        </div>
      </div>
    </ng-container>

    <button class="logout" (click)="auth.logout()">
      Sair da conta
    </button>
  </div>
</section>
